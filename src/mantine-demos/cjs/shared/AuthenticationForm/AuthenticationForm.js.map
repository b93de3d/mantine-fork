{"version":3,"file":"AuthenticationForm.js","sources":["../../../src/shared/AuthenticationForm/AuthenticationForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from '@mantine/hooks';\nimport { EnvelopeClosedIcon, LockClosedIcon } from '@modulz/radix-icons';\nimport {\n  TextInput,\n  PasswordInput,\n  Group,\n  Checkbox,\n  Button,\n  Paper,\n  Text,\n  LoadingOverlay,\n  Anchor,\n  useMantineTheme,\n} from '@mantine/core';\n\nexport interface AuthenticationFormProps {\n  noShadow?: boolean;\n  noPadding?: boolean;\n  noSubmit?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport function AuthenticationForm({\n  noShadow,\n  noPadding,\n  noSubmit,\n  style,\n}: AuthenticationFormProps) {\n  const [formType, setFormType] = useState<'register' | 'login'>('register');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string>(null);\n  const theme = useMantineTheme();\n\n  const toggleFormType = () => {\n    setFormType((current) => (current === 'register' ? 'login' : 'register'));\n    setError(null);\n  };\n\n  const form = useForm({\n    initialValues: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      termsOfService: true,\n    },\n\n    validationRules: {\n      firstName: (value) => formType === 'login' || value.trim().length >= 2,\n      lastName: (value) => formType === 'login' || value.trim().length >= 2,\n      email: (value) => /^\\S+@\\S+$/.test(value),\n      password: (value) => /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$/.test(value),\n      confirmPassword: (val, values) => formType === 'login' || val === values.password,\n    },\n\n    errorMessages: {\n      email: 'Invalid email',\n      password: 'Password should contain 1 number, 1 letter and at least 6 characters',\n      confirmPassword: \"Passwords don't match. Try again\",\n    },\n  });\n\n  const handleSubmit = () => {\n    setLoading(true);\n    setError(null);\n    setTimeout(() => {\n      setLoading(false);\n      setError(\n        formType === 'register'\n          ? 'User with this email already exists'\n          : 'User with this email does not exist'\n      );\n    }, 3000);\n  };\n\n  return (\n    <Paper\n      padding={noPadding ? 0 : 'lg'}\n      shadow={noShadow ? null : 'sm'}\n      style={{\n        position: 'relative',\n        backgroundColor: theme.colorScheme === 'dark' ? theme.colors.dark[7] : theme.white,\n        ...style,\n      }}\n    >\n      <form onSubmit={form.onSubmit(handleSubmit)}>\n        <LoadingOverlay visible={loading} />\n        {formType === 'register' && (\n          <Group grow>\n            <TextInput\n              data-autofocus\n              required\n              placeholder=\"Your first name\"\n              label=\"First name\"\n              {...form.getInputProps('firstName')}\n            />\n\n            <TextInput\n              required\n              placeholder=\"Your last name\"\n              label=\"Last name\"\n              {...form.getInputProps('lastName')}\n            />\n          </Group>\n        )}\n\n        <TextInput\n          mt=\"md\"\n          required\n          placeholder=\"Your email\"\n          label=\"Email\"\n          icon={<EnvelopeClosedIcon />}\n          {...form.getInputProps('email')}\n        />\n\n        <PasswordInput\n          mt=\"md\"\n          required\n          placeholder=\"Password\"\n          label=\"Password\"\n          icon={<LockClosedIcon />}\n          {...form.getInputProps('password')}\n        />\n\n        {formType === 'register' && (\n          <PasswordInput\n            mt=\"md\"\n            required\n            label=\"Confirm Password\"\n            placeholder=\"Confirm password\"\n            icon={<LockClosedIcon />}\n            {...form.getInputProps('confirmPassword')}\n          />\n        )}\n\n        {formType === 'register' && (\n          <Checkbox\n            mt=\"xl\"\n            label=\"I agree to sell my soul and privacy to this corporation\"\n            {...form.getInputProps('termsOfService', { type: 'checkbox' })}\n          />\n        )}\n\n        {error && (\n          <Text color=\"red\" size=\"sm\" mt=\"sm\">\n            {error}\n          </Text>\n        )}\n\n        {!noSubmit && (\n          <Group position=\"apart\" mt=\"xl\">\n            <Anchor\n              component=\"button\"\n              type=\"button\"\n              color=\"gray\"\n              onClick={toggleFormType}\n              size=\"sm\"\n            >\n              {formType === 'register'\n                ? 'Have an account? Login'\n                : \"Don't have an account? Register\"}\n            </Anchor>\n\n            <Button color=\"blue\" type=\"submit\">\n              {formType === 'register' ? 'Register' : 'Login'}\n            </Button>\n          </Group>\n        )}\n      </form>\n    </Paper>\n  );\n}\n"],"names":["useState","useMantineTheme","useForm","React","Paper","LoadingOverlay","Group","TextInput","EnvelopeClosedIcon","PasswordInput","LockClosedIcon","Checkbox","Text","Anchor","Button"],"mappings":";;;;;;;;;;;;;AAAA,IAAI,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC;AACtC,IAAI,mBAAmB,GAAG,MAAM,CAAC,qBAAqB,CAAC;AACvD,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;AACnD,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC;AACzD,IAAI,eAAe,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,KAAK,GAAG,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAChK,IAAI,cAAc,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK;AAC/B,EAAE,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;AAChC,IAAI,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;AAClC,MAAM,eAAe,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACxC,EAAE,IAAI,mBAAmB;AACzB,IAAI,KAAK,IAAI,IAAI,IAAI,mBAAmB,CAAC,CAAC,CAAC,EAAE;AAC7C,MAAM,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;AACpC,QAAQ,eAAe,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1C,KAAK;AACL,EAAE,OAAO,CAAC,CAAC;AACX,CAAC,CAAC;AAgBK,SAAS,kBAAkB,CAAC;AACnC,EAAE,QAAQ;AACV,EAAE,SAAS;AACX,EAAE,QAAQ;AACV,EAAE,KAAK;AACP,CAAC,EAAE;AACH,EAAE,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAGA,cAAQ,CAAC,UAAU,CAAC,CAAC;AACvD,EAAE,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAGA,cAAQ,CAAC,KAAK,CAAC,CAAC;AAChD,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAGA,cAAQ,CAAC,IAAI,CAAC,CAAC;AAC3C,EAAE,MAAM,KAAK,GAAGC,oBAAe,EAAE,CAAC;AAClC,EAAE,MAAM,cAAc,GAAG,MAAM;AAC/B,IAAI,WAAW,CAAC,CAAC,OAAO,KAAK,OAAO,KAAK,UAAU,GAAG,OAAO,GAAG,UAAU,CAAC,CAAC;AAC5E,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;AACnB,GAAG,CAAC;AACJ,EAAE,MAAM,IAAI,GAAGC,aAAO,CAAC;AACvB,IAAI,aAAa,EAAE;AACnB,MAAM,SAAS,EAAE,EAAE;AACnB,MAAM,QAAQ,EAAE,EAAE;AAClB,MAAM,KAAK,EAAE,EAAE;AACf,MAAM,QAAQ,EAAE,EAAE;AAClB,MAAM,eAAe,EAAE,EAAE;AACzB,MAAM,cAAc,EAAE,IAAI;AAC1B,KAAK;AACL,IAAI,eAAe,EAAE;AACrB,MAAM,SAAS,EAAE,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC;AAC5E,MAAM,QAAQ,EAAE,CAAC,KAAK,KAAK,QAAQ,KAAK,OAAO,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC;AAC3E,MAAM,KAAK,EAAE,CAAC,KAAK,KAAK,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC;AAC/C,MAAM,QAAQ,EAAE,CAAC,KAAK,KAAK,wCAAwC,CAAC,IAAI,CAAC,KAAK,CAAC;AAC/E,MAAM,eAAe,EAAE,CAAC,GAAG,EAAE,MAAM,KAAK,QAAQ,KAAK,OAAO,IAAI,GAAG,KAAK,MAAM,CAAC,QAAQ;AACvF,KAAK;AACL,IAAI,aAAa,EAAE;AACnB,MAAM,KAAK,EAAE,eAAe;AAC5B,MAAM,QAAQ,EAAE,sEAAsE;AACtF,MAAM,eAAe,EAAE,kCAAkC;AACzD,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,YAAY,GAAG,MAAM;AAC7B,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;AACrB,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;AACnB,IAAI,UAAU,CAAC,MAAM;AACrB,MAAM,UAAU,CAAC,KAAK,CAAC,CAAC;AACxB,MAAM,QAAQ,CAAC,QAAQ,KAAK,UAAU,GAAG,qCAAqC,GAAG,qCAAqC,CAAC,CAAC;AACxH,KAAK,EAAE,GAAG,CAAC,CAAC;AACZ,GAAG,CAAC;AACJ,EAAE,uBAAuBC,cAAK,CAAC,aAAa,CAACC,UAAK,EAAE;AACpD,IAAI,OAAO,EAAE,SAAS,GAAG,CAAC,GAAG,IAAI;AACjC,IAAI,MAAM,EAAE,QAAQ,GAAG,IAAI,GAAG,IAAI;AAClC,IAAI,KAAK,EAAE,cAAc,CAAC;AAC1B,MAAM,QAAQ,EAAE,UAAU;AAC1B,MAAM,eAAe,EAAE,KAAK,CAAC,WAAW,KAAK,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK;AACxF,KAAK,EAAE,KAAK,CAAC;AACb,GAAG,kBAAkBD,cAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACjD,IAAI,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;AACzC,GAAG,kBAAkBA,cAAK,CAAC,aAAa,CAACE,mBAAc,EAAE;AACzD,IAAI,OAAO,EAAE,OAAO;AACpB,GAAG,CAAC,EAAE,QAAQ,KAAK,UAAU,oBAAoBF,cAAK,CAAC,aAAa,CAACG,UAAK,EAAE;AAC5E,IAAI,IAAI,EAAE,IAAI;AACd,GAAG,kBAAkBH,cAAK,CAAC,aAAa,CAACI,cAAS,EAAE,cAAc,CAAC;AACnE,IAAI,gBAAgB,EAAE,IAAI;AAC1B,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,WAAW,EAAE,iBAAiB;AAClC,IAAI,KAAK,EAAE,YAAY;AACvB,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkBJ,cAAK,CAAC,aAAa,CAACI,cAAS,EAAE,cAAc,CAAC;AACtG,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,WAAW,EAAE,gBAAgB;AACjC,IAAI,KAAK,EAAE,WAAW;AACtB,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,kBAAkBJ,cAAK,CAAC,aAAa,CAACI,cAAS,EAAE,cAAc,CAAC;AACtG,IAAI,EAAE,EAAE,IAAI;AACZ,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,WAAW,EAAE,YAAY;AAC7B,IAAI,KAAK,EAAE,OAAO;AAClB,IAAI,IAAI,kBAAkBJ,cAAK,CAAC,aAAa,CAACK,6BAAkB,EAAE,IAAI,CAAC;AACvE,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkBL,cAAK,CAAC,aAAa,CAACM,kBAAa,EAAE,cAAc,CAAC;AACtG,IAAI,EAAE,EAAE,IAAI;AACZ,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,WAAW,EAAE,UAAU;AAC3B,IAAI,KAAK,EAAE,UAAU;AACrB,IAAI,IAAI,kBAAkBN,cAAK,CAAC,aAAa,CAACO,yBAAc,EAAE,IAAI,CAAC;AACnE,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,QAAQ,KAAK,UAAU,oBAAoBP,cAAK,CAAC,aAAa,CAACM,kBAAa,EAAE,cAAc,CAAC;AACpI,IAAI,EAAE,EAAE,IAAI;AACZ,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,KAAK,EAAE,kBAAkB;AAC7B,IAAI,WAAW,EAAE,kBAAkB;AACnC,IAAI,IAAI,kBAAkBN,cAAK,CAAC,aAAa,CAACO,yBAAc,EAAE,IAAI,CAAC;AACnE,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE,QAAQ,KAAK,UAAU,oBAAoBP,cAAK,CAAC,aAAa,CAACQ,aAAQ,EAAE,cAAc,CAAC;AACtI,IAAI,EAAE,EAAE,IAAI;AACZ,IAAI,KAAK,EAAE,yDAAyD;AACpE,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,oBAAoBR,cAAK,CAAC,aAAa,CAACS,SAAI,EAAE;AACtH,IAAI,KAAK,EAAE,KAAK;AAChB,IAAI,IAAI,EAAE,IAAI;AACd,IAAI,EAAE,EAAE,IAAI;AACZ,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,QAAQ,oBAAoBT,cAAK,CAAC,aAAa,CAACG,UAAK,EAAE;AACrE,IAAI,QAAQ,EAAE,OAAO;AACrB,IAAI,EAAE,EAAE,IAAI;AACZ,GAAG,kBAAkBH,cAAK,CAAC,aAAa,CAACU,WAAM,EAAE;AACjD,IAAI,SAAS,EAAE,QAAQ;AACvB,IAAI,IAAI,EAAE,QAAQ;AAClB,IAAI,KAAK,EAAE,MAAM;AACjB,IAAI,OAAO,EAAE,cAAc;AAC3B,IAAI,IAAI,EAAE,IAAI;AACd,GAAG,EAAE,QAAQ,KAAK,UAAU,GAAG,wBAAwB,GAAG,iCAAiC,CAAC,kBAAkBV,cAAK,CAAC,aAAa,CAACW,WAAM,EAAE;AAC1I,IAAI,KAAK,EAAE,MAAM;AACjB,IAAI,IAAI,EAAE,QAAQ;AAClB,GAAG,EAAE,QAAQ,KAAK,UAAU,GAAG,UAAU,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACxD;;;;"}