{"version":3,"file":"form.js","sources":["../../../../src/demos/packages/Popover/form.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm, useMediaQuery } from '@mantine/hooks';\nimport { Pencil2Icon } from '@modulz/radix-icons';\nimport {\n  Popover,\n  Button,\n  Group,\n  TextInput,\n  Avatar,\n  Text,\n  ActionIcon,\n  useMantineTheme,\n  Anchor,\n} from '@mantine/core';\n\nconst code = `\nimport { useState } from 'react';\nimport {\n  Popover,\n  Button,\n  Group,\n  TextInput,\n  Avatar,\n  Text,\n  ActionIcon,\n  useMantineTheme,\n} from '@mantine/core';\nimport { useForm, useMediaQuery } from '@mantine/hooks';\nimport { Pencil2Icon } from '@modulz/radix-icons';\n\ninterface UserEditFormProps {\n  initialValues: { name: string; email: string };\n  onSubmit(values: { name: string; email: string }): void;\n  onCancel(): void;\n}\n\nfunction UserEditForm({ initialValues, onSubmit, onCancel }: UserEditFormProps) {\n  const isMobile = useMediaQuery('(max-width: 755px');\n\n  const form = useForm({\n    initialValues,\n    validationRules: {\n      name: (value) => value.trim().length > 2,\n      email: (value) => value.trim().length > 2,\n    },\n  });\n\n  return (\n    <form onSubmit={form.onSubmit(onSubmit)}>\n      <TextInput\n        required\n        label=\"Name\"\n        placeholder=\"Name\"\n        style={{ minWidth: isMobile ? 220 : 300 }}\n        value={form.values.name}\n        onChange={(event) => form.setFieldValue('name', event.currentTarget.value)}\n        error={form.errors.name}\n        variant=\"default\"\n      />\n\n      <TextInput\n        required\n        label=\"Email\"\n        placeholder=\"Email\"\n        style={{ minWidth: isMobile ? 220 : 300, marginTop: 15 }}\n        value={form.values.email}\n        onChange={(event) => form.setFieldValue('email', event.currentTarget.value)}\n        error={form.errors.email}\n        variant=\"default\"\n      />\n\n      <Group position=\"apart\" style={{ marginTop: 15 }}>\n        <Anchor component=\"button\" color=\"gray\" size=\"sm\" onClick={onCancel}>\n          Cancel\n        </Anchor>\n        <Button type=\"submit\" size=\"sm\">\n          Save\n        </Button>\n      </Group>\n    </form>\n  );\n}\n\ninterface UserProps {\n  name: string;\n  email: string;\n  className?: string;\n}\n\nfunction User({ name, email, className }: UserProps) {\n  return (\n    <div className={className} style={{ display: 'flex' }}>\n      <Avatar style={{ marginRight: 15 }} color=\"blue\">\n        {name\n          .split(' ')\n          .map((part) => part.charAt(0).toUpperCase())\n          .slice(0, 2)\n          .join('')}\n      </Avatar>\n\n      <div>\n        <Text>{name}</Text>\n        <Text size=\"xs\" color=\"gray\">\n          {email}\n        </Text>\n      </div>\n    </div>\n  );\n}\n\nexport function EditUserPopover() {\n  const [values, setValues] = useState({ name: 'Bob Handsome', email: 'bob@handsome.inc' });\n  const [opened, setOpened] = useState(false);\n  const theme = useMantineTheme();\n\n  return (\n    <Group>\n      <User name={values.name} email={values.email} />\n\n      <Popover\n        opened={opened}\n        onClose={() => setOpened(false)}\n        position=\"bottom\"\n        placement=\"end\"\n        withCloseButton\n        title=\"Edit user\"\n        transition=\"pop-top-right\"\n        target={\n          <ActionIcon\n            variant={theme.colorScheme === 'dark' ? 'hover' : 'light'}\n            onClick={() => setOpened((o) => !o)}\n          >\n            <Pencil2Icon />\n          </ActionIcon>\n        }\n      >\n        <UserEditForm\n          initialValues={values}\n          onCancel={() => setOpened(false)}\n          onSubmit={(data) => {\n            setValues(data);\n            setOpened(false);\n          }}\n        />\n      </Popover>\n    </Group>\n  );\n}\n`;\n\ninterface UserEditFormProps {\n  initialValues: { name: string; email: string };\n  onSubmit(values: { name: string; email: string }): void;\n  onCancel(): void;\n}\n\nfunction UserEditForm({ initialValues, onSubmit, onCancel }: UserEditFormProps) {\n  const isMobile = useMediaQuery('(max-width: 755px');\n\n  const form = useForm({\n    initialValues,\n    validationRules: {\n      name: (value) => value.trim().length > 2,\n      email: (value) => value.trim().length > 2,\n    },\n  });\n\n  return (\n    <form onSubmit={form.onSubmit(onSubmit)}>\n      <TextInput\n        data-autofocus\n        required\n        label=\"Name\"\n        placeholder=\"Name\"\n        sx={{ minWidth: isMobile ? 220 : 300 }}\n        value={form.values.name}\n        onChange={(event) => form.setFieldValue('name', event.currentTarget.value)}\n        error={form.errors.name}\n        variant=\"default\"\n      />\n\n      <TextInput\n        required\n        label=\"Email\"\n        placeholder=\"Email\"\n        variant=\"default\"\n        sx={{ minWidth: isMobile ? 220 : 300 }}\n        mt=\"md\"\n        value={form.values.email}\n        onChange={(event) => form.setFieldValue('email', event.currentTarget.value)}\n        error={form.errors.email}\n      />\n\n      <Group position=\"apart\" mt=\"md\">\n        <Anchor component=\"button\" color=\"gray\" onClick={onCancel} size=\"sm\">\n          Cancel\n        </Anchor>\n        <Button type=\"submit\">Save</Button>\n      </Group>\n    </form>\n  );\n}\n\ninterface UserProps {\n  name: string;\n  email: string;\n  className?: string;\n}\n\nfunction User({ name, email, className }: UserProps) {\n  return (\n    <div className={className} style={{ display: 'flex' }}>\n      <Avatar mr=\"md\" color=\"blue\">\n        {name\n          .split(' ')\n          .map((part) => part.charAt(0).toUpperCase())\n          .slice(0, 2)\n          .join('')}\n      </Avatar>\n\n      <div>\n        <Text>{name}</Text>\n        <Text size=\"xs\" color=\"gray\">\n          {email}\n        </Text>\n      </div>\n    </div>\n  );\n}\n\nexport function Demo() {\n  const [values, setValues] = useState({ name: 'Bob Handsome', email: 'bob@handsome.inc' });\n  const [opened, setOpened] = useState(false);\n  const theme = useMantineTheme();\n  const isMobile = useMediaQuery('(max-width: 510px');\n\n  return (\n    <Group position=\"center\">\n      <User name={values.name} email={values.email} />\n\n      <Popover\n        opened={opened}\n        onClose={() => setOpened(false)}\n        position=\"bottom\"\n        placement={isMobile ? 'center' : 'end'}\n        withCloseButton\n        title=\"Edit user\"\n        transition=\"pop-top-right\"\n        gutter={15}\n        target={\n          <ActionIcon\n            variant={theme.colorScheme === 'dark' ? 'hover' : 'light'}\n            onClick={() => setOpened((o) => !o)}\n          >\n            <Pencil2Icon />\n          </ActionIcon>\n        }\n      >\n        <UserEditForm\n          initialValues={values}\n          onCancel={() => setOpened(false)}\n          onSubmit={(data) => {\n            setValues(data);\n            setOpened(false);\n          }}\n        />\n      </Popover>\n    </Group>\n  );\n}\n\nexport const form: MantineDemo = {\n  type: 'demo',\n  code,\n  demoProps: { toggle: true },\n  component: Demo,\n};\n"],"names":["useMediaQuery","useForm","React","TextInput","Group","Anchor","Button","Avatar","Text","useState","useMantineTheme","Popover","ActionIcon","Pencil2Icon"],"mappings":";;;;;;;;;;;;;AAcA,MAAM,IAAI,GAAG,CAAC;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;AACF,SAAS,YAAY,CAAC,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE;AAC7D,EAAE,MAAM,QAAQ,GAAGA,mBAAa,CAAC,mBAAmB,CAAC,CAAC;AACtD,EAAE,MAAM,KAAK,GAAGC,aAAO,CAAC;AACxB,IAAI,aAAa;AACjB,IAAI,eAAe,EAAE;AACrB,MAAM,IAAI,EAAE,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC;AAC9C,MAAM,KAAK,EAAE,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC;AAC/C,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,uBAAuBC,cAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACrD,IAAI,QAAQ,EAAE,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC;AACtC,GAAG,kBAAk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"}