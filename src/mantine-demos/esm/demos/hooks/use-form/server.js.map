{"version":3,"file":"server.js","sources":["../../../../src/demos/hooks/use-form/server.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { TextInput, Group, Button, LoadingOverlay, useMantineTheme } from '@mantine/core';\nimport { useForm } from '@mantine/hooks';\nimport { CodeDemo } from '../../../components/Demo/Demo';\n\nconst code = `import { useState } from 'react';\nimport { TextInput, Button } from '@mantine/core';\nimport { useForm } from '@mantine/hooks';\n\nexport function Demo() {\n  const [loading, setLoading] = useState(false);\n  const [serverError, setServerError] = useState<string>(null);\n  const form = useForm({\n    initialValues: { email: 'test@mantine.dev' },\n    validationRules: {\n      email: (value) => /^\\\\S+@\\\\S+$/.test(value),\n    },\n  });\n\n  const handleSubmit = (values: typeof form['values']) => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n      if (values.email === 'test@mantine.dev') {\n        setServerError('Email already taken');\n        form.setFieldError('email', true);\n      }\n    }, 1500);\n  };\n\n  return (\n    <form onSubmit={form.onSubmit(handleSubmit)} style={{ position: 'relative' }}>\n      <LoadingOverlay visible={loading} />\n      <TextInput\n        required\n        label=\"Email\"\n        placeholder=\"your@email.com\"\n        error={form.errors.email && (serverError || 'Please specify valid email')}\n        value={form.values.email}\n        onChange={(event) => form.setFieldValue('email', event.currentTarget.value)}\n        onFocus={() => {\n          setServerError(null);\n          form.setFieldError('email', false);\n        }}\n      />\n\n      <Button type=\"submit\">Register</Button>\n    </form>\n  );\n}\n`;\n\nexport function UseFormServerValidationDemo() {\n  const theme = useMantineTheme();\n  const [loading, setLoading] = useState(false);\n  const [serverError, setServerError] = useState<string>(null);\n\n  const form = useForm({\n    initialValues: { email: 'test@mantine.dev' },\n    validationRules: {\n      email: (value) => /^\\S+@\\S+$/.test(value),\n    },\n  });\n\n  const handleSubmit = (values: typeof form['values']) => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n      if (values.email === 'test@mantine.dev') {\n        setServerError('Email already taken');\n        form.setFieldError('email', true);\n      }\n    }, 1500);\n  };\n\n  return (\n    <CodeDemo\n      code={code}\n      language=\"tsx\"\n      demoBackground={theme.colorScheme === 'dark' ? theme.colors.dark[7] : theme.white}\n    >\n      <div style={{ maxWidth: 360, margin: 'auto' }}>\n        <form onSubmit={form.onSubmit(handleSubmit)} style={{ position: 'relative' }}>\n          <LoadingOverlay visible={loading} />\n          <TextInput\n            required\n            label=\"Email\"\n            placeholder=\"your@email.com\"\n            error={form.errors.email && (serverError || 'Please specify valid email')}\n            value={form.values.email}\n            onChange={(event) => form.setFieldValue('email', event.currentTarget.value)}\n            onFocus={() => {\n              setServerError(null);\n              form.setFieldError('email', false);\n            }}\n          />\n\n          <Group position=\"right\" style={{ marginTop: 15 }}>\n            <Button type=\"submit\">Register</Button>\n          </Group>\n        </form>\n      </div>\n    </CodeDemo>\n  );\n}\n"],"names":[],"mappings":"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"}